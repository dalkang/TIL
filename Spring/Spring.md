# Spring

## Spring 장점


### 1. 생산성 우수
* 엔터프라이즈 애플리케이션 구축을 위한 솔루션이지만, 가볍고 모듈화되어 있어서 필요만 부분만 사용

* POJO 클래스와 약간의 설정만으로도 개발이 가능하므로 개발 생산성을 높일 수 있음

  #### EJB (Enterprise JavaBean)

  * 규모가 커지고 복잡한 애플리케이션 제작을 위해 만들어진 기술
  * extends, implemts를 많이 사용해서 클래스 의존도 높고, 복잡하고 제한이 많음
  * 별도로 종속되지 않고 간단한 자바 객체를 사용하자라는 의도에서 POJO가 나옴

  #### POJO (Plain Old Java Object)

  * 특정 환경과 규약에 종속되지 않아 필요에 따라 재사용될 수 있는 방식으로 설계된 객체
  * 즉, 복잡하게 다른 클래스를 상속받거나 인터페이스를 구현해야 하는 규칙이 없는 자바 클래스
  * Spring이 대표적인 POJO 기반의 프레임워크
  * POJO 대표적인 예
    - Java Bean
    - 생성자와 Getters / Setters 만 지닌 단순 자바 객체

### 2. 품질 보증

- 스프링 프레임워크는 이미 검증된 많은 아키텍처 및 디자인 패턴을 적용해서 만들어졌음
- 개발에 일관성 제공해 주고 소프트웨어 품질 보증

### 3. 유지 보수 용이

- 스프링 프레임워크를 사용해서 작성된 애플리케이션은 유지보수하는 소요되는 인력과 시간을 줄일 수 있음
- 그래서 여러 프레임워크 중에서 스프링 프레임워크가 업계 표준으로 자리 잡음

<br>

## Spring 특징

* 1. POJO 기반 프레임워크
* 2. DI (Dependency Injection) 지원
* 3. AOP (Aspect Oriented Programming) 지원
* 4. 뛰어난 확장성
* 5. Model2 방식의 MVC Framewordk 지원
* 6. WAS에 종속되지 않는 개발 환경

<hr>

### 1. POJO 기반 프레임워크

- 자바 객체의 라이프 사이클을 스프링 컨테이너가 직접 관리
- 스프링 컨테이너로부터 필요한 객체를 얻어 옴

### 2. DI (Dependency Injection) 지원

- 의존성 주입
- 의존 관계에 있는 객체를 생성 조립해 주는 기능
- 각 계층이나 서비스들 사이 또는 객체들 사이의 의존성이 존재할 경우 스프링 프레임워크가 서로 연결시켜 줌
- 클래스 간 약한 결합 가능

### 3. AOP (Aspect Oriented Programming) 지원

- 관점 지향 프로그래밍
- 공통 기능을 분리해서 사용해서 사용
  * 트랜잭션 로깅, 보안 등 여러 모듈에서 공통적으로 지원하는 기능을 분리해서 사용 
- 반복적인 코드를 줄이고 개발자가 비즈니스 로직에만 집중할 수 있도록 지원

### 4. 뛰어난 확장성

- 스프링 프레임워크의 소스는 모두 라이브러리로 분리되어 있어서
- 필요한 라이브러리만 가져다 사용하면 됨
- web.xml에 추가

#### 5. Model2 방식의 MVC Framewordk 지원

- Model / View / Controller
- JSP MVC 때보다 코드가 간결

<br>

## Spring 핵심 기능

- ### DI (Dependency Injection) 주입 

  * 객체 간의 의존성을 개발자가 설정하는 것이 아니라, Spring Container가 주입시켜 주는 기능
  * 객체를 쉽게 확장하고 재사용할 수 있음

- ### IoC (Inversion of Control : 제어의 역전)

  * 객체에 대한 제어권 문제

    * 기존에는 개발자에게 제어권이 있었음

      > new 연산자 사용해 객체 생성

    * Spring Framework에서는 객체의 제어권이 스프링에게 있음

    * 인스턴스의 라이프사이클(생성에서 소멸까지)을 개발자가 아닌 스프링 프레임워크에서 담당
    
      > 제어권 역전

<br>

## Spring Project 유형

### 1. Spring Legacy Project

> 스프링 템플릿 프로젝트를 이용하는 프로젝트

- Model2 방식 (MVC)의 프로젝트 생성 시 사용
- Spring MVC Project

### 2. Spring Starter Project

> Spring Boot를 이용하는 프로젝트

- Spring Boot을 이용하는 프로젝트
- 최대한 간단하게 실행하고, 배포가 가능한 수준의 웹 어플리케이션을 제작하기 위한 목적
- 개발에 필요한 모든 환경을 설정을 갖추면서 최소한의 개발을 해야 하는 경우 사용

### 3. Simple Spring Maven (Maven Project)

 - Spring 라이브러리의 기본 세트를 포함하는 Maven을 사용해서
- 간단한 Spring 프로젝트 생성

<br>

## Spring Build Tool

### 1. Maven (메이븐)

- Java 용 프로젝트 관리 도구
- XML 기반의 정적인 빌드 제공

### 2. Gradle(그레이들)

- 그루비(Groovy) 스크립트 기반의 동적인 빌드 기능 제공
- 안드로이드 앱 만들 때 필요한 공식 빌드 시스템
- 메이븐보다 빌드 작업이 간단
- 별도의 스크립트를 통해서 사용할 애플리케이션 버전, 라이브러리 등 설정 가능

<br>

## 의존성(Dependency)

- 객체 간 의존성

- 한 클래스에서 다른 클래스의 객체를 통해 그 클래스의 메소드를 실행할 때 의존한다고 표현

- new 연산자를 통해 다른 클래스의 객체 생성해서 사용

  ```java
  BookDTO dto = new BookDTO();
  ```

* A 클래스에서 B 클래스이 객체를 생성해서 사용하는 경우

  * 지금까지 해왔던 개념

  ```java
  class A {
    privat B b;
  
    public A(){
      b = new B(); // B클래스의 객체 b 생성
    }
  }
  ```

  - A클래스에서 직접 생성
  - 일체형으로 묶여 있음
  - 강한 의존 관계
  - 앞으로 사용할 개념 (DI)

  ```java
  class A {
    privat B b;
  
    public void setB(B b){  // setter 메소드를 통해서 외부에서 넣어 줌 (injection)
       this.b = b;
    }
  }
  ```

  - 외부에서 만든 객체를 받아서 사용
  - 조립된 부품을 받아서 사용한다는 개념

<br>

## DI (Dependency Injection) 주입 

* 객체 간의 의존성을 개발자가 설정하는 것이 아닌, 스프링 컨테이너가 주입시켜 주는 기능
* 객체를 쉽게 확장하고 재사용할 수 있음

- IoC (Inversion of Control : 제어의 역전)
- 외부에서 생성된 Bean을 IoC 컨테이너가 넣어 주는 방식 (주입 : injection)
- 일반적으로 부품(Bean)을 조립(의존성 주입)해서 사용한다는 개념

### DI(의존성 주입) 방법을 사용하는 이유

- 의존하는 객체의 클래스가 변경되거나 다른 클래스의 객체를 사용하게 될 경우

  * 의존 관계에 있는 다른 모든 클래스들의 소스 코드도 변경해햐 하는데, 의존성 주입 방법을 사용하면 클래스 결합 상태를 변경하거나 객체를 주입하는 부분만 수정하면 됨

  * 수정할 코드의 양을 줄일 수 있다는 장점이 있음

    * ex) A1 클래스를 사용하다가 A2 클래스로 변경할 경우 설정 파일에서 클래스 이름만 변경해 주면 됨

      ```java
      // <bean id="a" class="com.package.A1">
      <bean id="a" class="com.package.A2">
      ```

### Spring에서 의존성 주입 방법
#### (1) XML을 이용한 방법

- XML 설정 파일에 \<bean> 설정
* 생성자 기반 DI
* Setter 기반 DI

#### (2) Annotation을 이용한 방법

* 자바 코드에서 '@어노테이션'으로 설정

